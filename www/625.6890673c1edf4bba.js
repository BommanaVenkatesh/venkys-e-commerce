"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[625],{625:(I,m,n)=>{n.r(m),n.d(m,{CartPageModule:()=>E});var c=n(177),l=n(4341),d=n(4742),g=n(6397),p=n(467),h=n(8032),f=n.n(h),t=n(4438),y=n(2647);function x(i,s){if(1&i&&(t.j41(0,"option",62),t.EFF(1),t.k0s()),2&i){const r=s.$implicit;t.Y8G("value",r),t.R7$(),t.SpI(" ",r," ")}}function v(i,s){if(1&i){const r=t.RV6();t.j41(0,"li",40)(1,"div",41),t.nrm(2,"img",42),t.k0s(),t.j41(3,"div",43)(4,"div",44)(5,"div")(6,"div",45)(7,"h3",46)(8,"a",47),t.EFF(9),t.k0s()()(),t.j41(10,"div",48)(11,"p",49),t.EFF(12),t.k0s(),t.j41(13,"p",50),t.EFF(14),t.k0s(),t.j41(15,"p",50),t.EFF(16),t.k0s()(),t.j41(17,"p",51),t.EFF(18),t.nI1(19,"currency"),t.k0s()(),t.j41(20,"div",52)(21,"div",53)(22,"select",54),t.mxI("ngModelChange",function(o){const a=t.eBV(r).$implicit;return t.DH7(a.qty,o)||(a.qty=o),t.Njj(o)}),t.bIt("ngModelChange",function(){t.eBV(r);const o=t.XpG(2);return t.Njj(o.updatePricing())}),t.DNE(23,x,2,2,"option",33),t.j41(24,"option",55),t.EFF(25,"8"),t.k0s()(),t.qSk(),t.j41(26,"svg",34),t.nrm(27,"path",35),t.k0s()(),t.joV(),t.j41(28,"div",56)(29,"button",57),t.bIt("click",function(){const o=t.eBV(r).$implicit,a=t.XpG(2);return t.Njj(a.removeItem(o))}),t.j41(30,"span",20),t.EFF(31,"Remove"),t.k0s(),t.qSk(),t.j41(32,"svg",21),t.nrm(33,"path",58),t.k0s()()()()(),t.joV(),t.j41(34,"p",59),t.qSk(),t.j41(35,"svg",60),t.nrm(36,"path",61),t.k0s(),t.joV(),t.j41(37,"span"),t.EFF(38,"In stock"),t.k0s()()()()}if(2&i){const r=s.$implicit,e=t.XpG(2);t.R7$(2),t.Y8G("src",e.getImage(r),t.B4B),t.R7$(7),t.JRh(r.name),t.R7$(3),t.JRh(r.category),t.R7$(2),t.SpI(" ",r.subCategory," "),t.R7$(2),t.SpI(" Size : ",r.size," "),t.R7$(2),t.SpI(" ",t.i5U(19,10,r.price,"INR")," "),t.R7$(4),t.Mz_("name","quantity-",r.id,""),t.R50("ngModel",r.qty),t.R7$(),t.Y8G("ngForOf",e.itemsCount)}}function F(i,s){if(1&i&&(t.j41(0,"option",62),t.EFF(1),t.k0s()),2&i){const r=s.$implicit;t.Y8G("value",r),t.R7$(),t.SpI(" ",r," ")}}function b(i,s){if(1&i){const r=t.RV6();t.j41(0,"form",6)(1,"section",7)(2,"h2",8),t.EFF(3,"Items in your shopping cart"),t.k0s(),t.j41(4,"ul",9),t.DNE(5,v,39,13,"li",10),t.k0s()(),t.j41(6,"section",11)(7,"h2",12),t.EFF(8," Order summary "),t.k0s(),t.j41(9,"dl",13)(10,"div",14)(11,"dt",15),t.EFF(12,"Subtotal"),t.k0s(),t.j41(13,"dd",16),t.EFF(14),t.nI1(15,"currency"),t.k0s()(),t.j41(16,"div",17)(17,"dt",18)(18,"span"),t.EFF(19,"Shipping estimate"),t.k0s(),t.j41(20,"a",19)(21,"span",20),t.EFF(22,"Learn more about how shipping is calculated"),t.k0s(),t.qSk(),t.j41(23,"svg",21),t.nrm(24,"path",22),t.k0s()()(),t.joV(),t.j41(25,"dd",16),t.EFF(26),t.nI1(27,"currency"),t.k0s()(),t.j41(28,"div",17)(29,"dt",23),t.EFF(30,"Order total"),t.k0s(),t.j41(31,"dd",23),t.EFF(32),t.nI1(33,"currency"),t.k0s()()(),t.j41(34,"h2",24),t.EFF(35," Payment Method "),t.k0s(),t.nrm(36,"dl",13)(37,"hr"),t.j41(38,"div",13)(39,"div",25),t.nrm(40,"input",26),t.j41(41,"label",27),t.EFF(42,"Offline Payment (Pay upon delivery)"),t.k0s()()(),t.nrm(43,"br"),t.j41(44,"div",28)(45,"label",29),t.EFF(46," Select Delivery Address "),t.k0s(),t.j41(47,"div",30)(48,"select",31),t.mxI("ngModelChange",function(o){t.eBV(r);const a=t.XpG();return t.DH7(a.orderDetails.address,o)||(a.orderDetails.address=o),t.Njj(o)}),t.j41(49,"option",32),t.EFF(50,"Select an address"),t.k0s(),t.DNE(51,F,2,2,"option",33),t.k0s(),t.qSk(),t.j41(52,"svg",34),t.nrm(53,"path",35),t.k0s()(),t.joV(),t.j41(54,"p",36),t.EFF(55," If the desired address is not listed, please add it in the "),t.j41(56,"a",37),t.EFF(57," settings page "),t.k0s(),t.EFF(58,". "),t.k0s()(),t.nrm(59,"br"),t.j41(60,"div",38)(61,"button",39),t.bIt("click",function(){t.eBV(r);const o=t.XpG();return t.Njj(o.createOrder())}),t.EFF(62," Proceed to Payment "),t.k0s()()()()}if(2&i){const r=t.XpG();t.R7$(5),t.Y8G("ngForOf",r.cartDetails),t.R7$(9),t.SpI(" ",t.i5U(15,6,r.subTotal,"INR")," "),t.R7$(12),t.SpI(" ",t.i5U(27,9,r.shippingCost,"INR")," "),t.R7$(6),t.SpI(" ",t.i5U(33,12,r.subTotal+r.shippingCost,"INR")," "),t.R7$(16),t.R50("ngModel",r.orderDetails.address),t.R7$(3),t.Y8G("ngForOf",r.deliveryAddresses)}}function j(i,s){1&i&&(t.j41(0,"ion-card")(1,"ion-card-content")(2,"h4",65),t.EFF(3," Your Cart is Waiting! "),t.k0s(),t.j41(4,"p",66),t.EFF(5," Start adding items to your cart and make it awesome! "),t.k0s()()())}function C(i,s){if(1&i&&(t.j41(0,"div"),t.DNE(1,j,6,0,"ion-card",5),t.nrm(2,"br"),t.j41(3,"h5",63),t.EFF(4," Take a look at our top picks and start shopping now. "),t.k0s(),t.nrm(5,"br")(6,"br")(7,"img",64),t.k0s()),2&i){const r=t.XpG();t.R7$(),t.Y8G("ngIf",0===r.cartDetails.length)}}const k=[{path:"",component:(()=>{var i;class s{constructor(e,o){this.util=e,this.router=o,this.cartDetails=[],this.deliveryAddresses=[],this.selectedAddress=null,this.subTotal=0,this.itemsCount=[1,2,3,4,5,6,7,8,9],this.shippingCost=50,this.orderDetails={address:""}}ngOnInit(){}getAddress(){var e=this;return(0,p.A)(function*(){e.deliveryAddresses=[],yield e.util.get("address",!0).then(o=>{o.forEach(a=>{e.deliveryAddresses.push(`${a.address1},${a.address2},${a.place},${a.city},${a.state},${a.pincode}`)})})})()}getImage(e){return`${this.util.baseURL}static/${e.uuid}/${e.imgUrls.at(0)}`}ionViewDidEnter(){this.subTotal=0;const e=localStorage.getItem("cart");this.cartDetails=e?JSON.parse(e):[],console.log(this.cartDetails,"card"),this.cartDetails.forEach(o=>{this.subTotal+=o.price*o.qty}),this.getAddress()}removeItem(e){this.subTotal=0,f().fire({title:"Are you sure?",text:"Do you want to remove this item from the cart?",icon:"warning",showCancelButton:!0,heightAuto:!1,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, remove it!",cancelButtonText:"Cancel"}).then(o=>{var a;o.isConfirmed&&(this.util.removeCartItem(e),this.cartDetails=JSON.parse(null!==(a=localStorage.getItem("cart"))&&void 0!==a?a:""),this.cartDetails.forEach(u=>{this.subTotal+=u.price*u.qty}),f().fire({title:"Removed!",text:"The item has been removed from the cart.",icon:"success",heightAuto:!1}))})}updatePricing(){this.subTotal=0,this.cartDetails.forEach(e=>{this.subTotal+=e.price*e.qty})}createOrder(){var e=this;return(0,p.A)(function*(){e.orderDetails.orderTotal=e.subTotal+e.shippingCost,e.orderDetails.subTotal=e.subTotal,e.orderDetails.shippingCost=e.shippingCost,e.orderDetails.items=e.cartDetails,e.orderDetails.paymentMethod="Cash on delivery",yield e.util.post("order",e.orderDetails,!0).then(o=>{var a;o.id?(e.util.showSuccess("Order Created Successfully"),e.router.navigate(["tabs/category"]),e.cartDetails=[],localStorage.removeItem("cart")):null!==(a=o.error)&&void 0!==a&&a.message?e.util.showError(o.error.message):e.util.showError("Error While Creating Order")})})()}}return(i=s).\u0275fac=function(e){return new(e||i)(t.rXU(y.a),t.rXU(g.Ix))},i.\u0275cmp=t.VBU({type:i,selectors:[["app-cart"]],decls:9,vars:3,consts:[[3,"fullscreen"],[1,"bg-white"],[1,"mx-auto","max-w-2xl","px-4","pb-24","pt-16","sm:px-6","lg:max-w-7xl","lg:px-8"],[1,"text-3xl","font-bold","tracking-tight","text-gray-900","sm:text-4xl"],["class","mt-12 lg:grid lg:grid-cols-12 lg:items-start lg:gap-x-12 xl:gap-x-16",4,"ngIf"],[4,"ngIf"],[1,"mt-12","lg:grid","lg:grid-cols-12","lg:items-start","lg:gap-x-12","xl:gap-x-16"],["aria-labelledby","cart-heading",1,"lg:col-span-7"],["id","cart-heading",1,"sr-only"],["role","list",1,"divide-y","divide-gray-200","border-b","border-t","border-gray-200"],["class","flex py-6 sm:py-10",4,"ngFor","ngForOf"],["aria-labelledby","order-summary-heading",1,"mt-16","rounded-lg","bg-gray-50","px-4","py-6","sm:p-6","lg:col-span-5","lg:mt-0","lg:p-8"],["id","order-summary-heading",1,"text-lg","font-medium","text-gray-900"],[1,"mt-6","space-y-4"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-600"],[1,"text-sm","font-medium","text-gray-900"],[1,"flex","items-center","justify-between","border-t","border-gray-200","pt-4"],[1,"flex","items-center","text-sm","text-gray-600"],["href","#",1,"ml-2","shrink-0","text-gray-400","hover:text-gray-500"],[1,"sr-only"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true","data-slot","icon",1,"size-5"],["fill-rule","evenodd","d","M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0ZM8.94 6.94a.75.75 0 1 1-1.061-1.061 3 3 0 1 1 2.871 5.026v.345a.75.75 0 0 1-1.5 0v-.5c0-.72.57-1.172 1.081-1.287A1.5 1.5 0 1 0 8.94 6.94ZM10 15a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z","clip-rule","evenodd"],[1,"text-base","font-medium","text-gray-900"],["id","payment-method-heading",1,"text-lg","font-medium","text-gray-900","mt-8"],[1,"flex","items-center"],["id","offline-payment","name","payment-method","type","radio","checked","",1,"h-4","w-4","text-indigo-600","focus:ring-indigo-500","border-gray-300"],["for","offline-payment",1,"ml-3","block","text-sm","font-medium","text-gray-700"],[1,"sm:col-span-3"],["for","delivery-address",1,"block","text-sm","font-medium","text-gray-900"],[1,"mt-2","grid","grid-cols-1"],["id","delivery-address","name","delivery-address","autocomplete","address-level1",1,"col-start-1","row-start-1","w-full","appearance-none","rounded-md","bg-white","py-1.5","pl-3","pr-8","text-base","text-gray-900","outline","outline-1","-outline-offset-1","outline-gray-300","focus:outline","focus:outline-2","focus:-outline-offset-2","focus:outline-indigo-600","sm:text-sm",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["viewBox","0 0 16 16","fill","currentColor","aria-hidden","true","data-slot","icon",1,"pointer-events-none","col-start-1","row-start-1","mr-2","size-5","self-center","justify-self-end","text-gray-500","sm:size-4"],["fill-rule","evenodd","d","M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z","clip-rule","evenodd"],[1,"mt-2","text-sm","text-gray-600"],["routerLink","/tabs/settings",1,"text-indigo-600","hover:text-indigo-500","underline"],[1,"mt-6"],["type","submit",1,"w-full","rounded-md","border","border-transparent","bg-indigo-600","px-4","py-3","text-base","font-medium","text-white","shadow-sm","hover:bg-indigo-700","focus:outline-none","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","focus:ring-offset-gray-50",3,"click"],[1,"flex","py-6","sm:py-10"],[1,"shrink-0"],["alt","Front of men's Basic Tee in sienna.",1,"size-24","rounded-md","object-cover","sm:size-48",3,"src"],[1,"ml-4","flex","flex-1","flex-col","justify-between","sm:ml-6"],[1,"relative","pr-9","sm:grid","sm:grid-cols-2","sm:gap-x-6","sm:pr-0"],[1,"flex","justify-between"],[1,"text-sm"],[1,"font-medium","text-gray-700","hover:text-gray-800"],[1,"mt-1","flex","text-sm"],[1,"text-gray-500"],[1,"ml-4","border-l","border-gray-200","pl-4","text-gray-500"],[1,"mt-1","text-sm","font-medium","text-gray-900"],[1,"mt-4","sm:mt-0","sm:pr-9"],[1,"grid","w-full","max-w-16","grid-cols-1"],[1,"col-start-1","row-start-1","appearance-none","rounded-md","bg-white","py-1.5","pl-3","pr-8","text-base","text-gray-900","outline","outline-1","-outline-offset-1","outline-gray-300","focus:outline","focus:outline-2","focus:-outline-offset-2","focus:outline-indigo-600","sm:text-sm/6",3,"ngModelChange","name","ngModel"],["value","8"],[1,"absolute","right-0","top-0"],["type","button",1,"-m-2","inline-flex","p-2","text-gray-400","hover:text-gray-500",3,"click"],["d","M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"],[1,"mt-4","flex","space-x-2","text-sm","text-gray-700"],["viewBox","0 0 20 20","fill","currentColor","aria-hidden","true","data-slot","icon",1,"size-5","shrink-0","text-green-500"],["fill-rule","evenodd","d","M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z","clip-rule","evenodd"],[3,"value"],[2,"color","var(--ion-color-default)","max-width","70%","margin-left","15%","font-size","small","margin-top","5vh","text-align","center"],["src","assets/undraw_empty_cart_co35.svg"],[1,"ion-text-center",2,"color","var(--ion-color-medium)","font-weight","bold"],[1,"ion-text-center",2,"color","var(--ion-color-medium)"]],template:function(e,o){1&e&&(t.j41(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"h1",3),t.EFF(4," Shopping Cart "),t.k0s(),t.DNE(5,b,63,15,"form",4),t.nrm(6,"br"),t.DNE(7,C,8,1,"div",5),t.nrm(8,"br"),t.k0s()()()),2&e&&(t.Y8G("fullscreen",!0),t.R7$(5),t.Y8G("ngIf",o.cartDetails.length>0),t.R7$(2),t.Y8G("ngIf",0===o.cartDetails.length))},dependencies:[c.Sq,c.bT,l.qT,l.xH,l.y7,l.wz,l.BC,l.cb,l.vS,l.cV,d.b_,d.I9,d.W9,d.oY,g.Wk,c.oe]}),s})()}];let _=(()=>{var i;class s{}return(i=s).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[g.iI.forChild(k),g.iI]}),s})(),E=(()=>{var i;class s{}return(i=s).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[c.MD,l.YN,d.bv,_]}),s})()}}]);